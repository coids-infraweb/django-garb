{% load i18n  %}
{% block fields %}
    <div class="change-columns">
        <div class="form-column">
            <div class="form-column-item">
                {% if form.non_field_errors %}
                    <div class="alert alert-danger" role="alert">
                        {% if errors|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}
                {% for fieldset in form.fieldsets %}
                    <fieldset class="module aligned" {{ fieldset.classes }}">
                        {% if fieldset.name  or fieldset.description %}
                            <div class="module-header">
                                {% if fieldset.name %}
                                    <div class="legend">{{ fieldset.name }}</div>
                                {% endif %}
                                {% if fieldset.description %}
                                    <div class="description">{{ fieldset.description|safe }}</div>
                                {% endif %}
                            </div>
                        {% endif %}
                        {% with fieldset as fields %}
                            {% for field in fields %}
                                {% if field.is_hidden %}
                                    {{ field }}
                                {% else %}
                                    <div class="form-row {% if field.name %} field-{{ field.name }}{% endif %} {% if field.errors %} errors is-invalid  {% endif %}">
                                        {% if field.errors %}{{ field.errors }}{% endif %}
                                        <div class="form-row-box fieldBox {% if field.name %} field-{{ field.name }}{% endif %}{% if not field.is_readonly and field.errors %} errors {% endif %}">
                                            {% if field.is_checkbox %}
                                                <div class="form-row-label"></div>
                                                <div class="form-row-checkbox">
                                                    {{ field.field }}{{ field.label_tag }} 
                                                </div>
                                            {% else %}
                                                <div class="form-row-label">
                                                    {{ field.label_tag }}
                                                </div>
                                                <div class="form-row-field">
                                                    {% if field.is_readonly %}
                                                        {% if not "img" in field.contents %}
                                                            <div class="readonly">{{ field.contents }}</div>
                                                        {% endif %}
                                                    {% else %}
                                                        {{ field }}
                                                    {% endif %}
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        {% endwith %}
                    </fieldset>
                {% endfor %}
            </div>
        </div>
        <div class="box-column {% if errors %} error {% endif %}">
            <div class="save-box">
                <button type="submit" class="btn btn-info" name="_save">Enviar Informações <br>
                </button>
            </div>
        </div>
    </div>
{% endblock fields %}